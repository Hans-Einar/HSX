# Architecture View — Tooling (Shell & Debugger)

## Role & Responsibilities
- Provide operator/script access to executive functions (shell).
- Deliver rich debugging experience (CLI + TUI) via shared debugger core (`hsxdbg`).
- Support automation (JSON output, scripting APIs).
- Act as the human-facing “surface” of the HSX runtime while keeping runtime logic native and lightweight.

## Interfaces
- Executive RPC protocol for control/state queries.
- Event streaming subscription for trace, breakpoints, mailbox updates.
- CLI commands such as attach, ps, val, cmd, listen, and debugger entry points.
- Potential future bridge to CAN/UART gateways for remote interaction.

## Relationships
- Built atop executive; no direct MiniVM coupling.
- Shares metadata (symbols, value descriptors) with toolchain outputs.
- CAN/UART gateways feed into tooling via value/command layer.
- Debugger depends on session locking/event stream guarantees provided by the executive scheduler.

## Notes
- Shell remains lean; debugger core handles sessions, events, and watch state.
- TUI implemented with Textual; CLI enhancements via prompt_toolkit.
- Future separation into dedicated repository remains an option once stable.
- Current Python implementation already wraps the executive RPC; architecture expects eventual tooling polish once the workspace-pointer remediation lands (e.g., debugger will leverage the new event stream and scheduler invariants).
